#!/usr/bin/python2
# -*- coding:utf-8 -*-
#@time: 2018/7/4

import requests as r
import json
import pytest
import allure

class Test_search():

    @allure.step("搜索页热词推荐")
    def test_recommen(self):
        self.url = 'http://master1.china-plus.net/api/ServiceCenter.do?action=ArticleInfo&format=json&verf=8EA5888AAAE2377703074F6F41181627&pv=3&data=HQdLXSpWXlZfS1xYGAdLXSpZXl5YS1xYDQdLXSpYXl5fS1xYCh1LXSpbX15WS1xYGABLXSpfQFtAXkBZW1ZLXFgYDUtdKllbVktcWBsHS10qS1xYGx5LXSpLXFgbAEtdKktcW1ssLSNLXFtbKl1aVl1WWlxeX1lLXFtaXh8fQA0BA0tcWBoDS10qIT4%2BITxfXx1LXFgDC0tdKlwKV1lbWV9cDFxfDVlXV1tLXFgDXEtdKlZYWVpYXV5dWFpdXFdXWUtcWB4AS10qS1xYAx1LXSpLXFgaGEtdKlxbS1xYABpLXSoZBwgHS1xYAg1LXSpLXFgNC0tdKktcWAIAS10qS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtWV0tcW1dfS1xbK1tLXFtWKktcW1dZS1xbK1tLXFsvWktcWy9ZS1xbK1dLXFtWX0tcW1ddS1xbK1tLXFtWLUtcW1dZS1xbK1hLXFsvK0tcWyxbS1xbK1ZLXFssK0tcW1ZbS1xbK1ZLXFssWUtcWy8oS1xYAg9LXSpdXkBbVllYVltLXFgCAUtdKl9eWkBeW11fX1dLXFgeHEtdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWA0aS10qS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xYDQFLXSpLXFsrWEtcWy8qS1xbL1hLXFsrWktcWywrS1xbLyhLXFsrW0tcW1YtS1xbLC9LXFgdGktdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWytYS1xbVlZLXFtXXktcWytXS1xbVl1LXFssKktcWytbS1xbLFZLXFtWXEtcWytYS1xbLypLXFsvWEtcWytaS1xbLCtLXFsvKEtcWytbS1xbVi1LXFssL0tcWytbS1xbVldLXFtXX0tcWytbS1xbVipLXFtXWUtcWytbS1xbL1pLXFsvWUtcWytXS1xbVl9LXFtXXUtcWytbS1xbVi1LXFtXWUtcWytYS1xbLytLXFssW0tcWytWS1xbLCtLXFtWW0tcWytWS1xbLFlLXFsvKEtcWAEYS10qDwAKHAEHCllAX0BfS1xYGgxLXSohPj4hS1xYHRlLXSpfXlZeS1xYHQZLXSpcXl9YS1xYDRtLXSovLxwNBlhaS1wsPhwBDQsdHQEcS1wsHAsYS1wsXEtcLEtcW1xWDw8cDQZYWktcW1xXS1xYHQFLXSoeARwaHA8HGktcWAIJS10qS1xYDRxLXSpLXFgdCktdKg0GBwAPAxsdBw1LXFgaBwpLXSpa'
        result = r.get(self.url)
        rejson = json.loads(result.text)
        assert rejson['msg']== 'Success'
        assert result.status_code ==200

    @allure.step("搜索结果页-单集")
    def test_find1(self):
        self.url = 'http://master1.china-plus.net/api/ServiceCenter.do?action=superSearch&format=json&verf=0FC946C6432C40E75BF0333BAD7CC6A0&pv=3&data=HQdLXSpWXlZfS1xYGAdLXSpZXl5YS1xYDQdLXSpYXl5fS1xYCh1LXSpbX15WS1xYGABLXSpfQFtAXkBZW1ZLXFgYDUtdKllbVktcWBsHS10qS1xYGx5LXSpLXFgbAEtdKktcW1ssLSNLXFtbKl1aVl1WWlxeX1lLXFtaXh8fQA0BA0tcWBoDS10qIT4%2BITxfXx1LXFgDC0tdKlwKV1lbWV9cDFxfDVlXV1tLXFgDXEtdKlZYWVpYXV5dWFpdXFdXWUtcWB4AS10qS1xYAx1LXSpLXFgaGEtdKlxbS1xYABpLXSoZBwgHS1xYAg1LXSpLXFgNC0tdKktcWAIAS10qS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtWV0tcW1dfS1xbK1tLXFtWKktcW1dZS1xbK1tLXFsvWktcWy9ZS1xbK1dLXFtWX0tcW1ddS1xbK1tLXFtWLUtcW1dZS1xbK1hLXFsvK0tcWyxbS1xbK1ZLXFssK0tcW1ZbS1xbK1ZLXFssWUtcWy8oS1xYAg9LXSpdXkBbVllYVltLXFgCAUtdKl9eWkBeW11fX1dLXFgeHEtdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWA0aS10qS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xYDQFLXSpLXFsrWEtcWy8qS1xbL1hLXFsrWktcWywrS1xbLyhLXFsrW0tcW1YtS1xbLC9LXFgdGktdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWytYS1xbVlZLXFtXXktcWytXS1xbVl1LXFssKktcWytbS1xbLFZLXFtWXEtcWytYS1xbLypLXFsvWEtcWytaS1xbLCtLXFsvKEtcWytbS1xbVi1LXFssL0tcWytbS1xbVldLXFtXX0tcWytbS1xbVipLXFtXWUtcWytbS1xbL1pLXFsvWUtcWytXS1xbVl9LXFtXXUtcWytbS1xbVi1LXFtXWUtcWytYS1xbLytLXFssW0tcWytWS1xbLCtLXFtWW0tcWytWS1xbLFlLXFsvKEtcWAEYS10qDwAKHAEHCllAX0BfS1xYGgxLXSohPj4hS1xYHRlLXSpfXlZeS1xYHQZLXSpcXl9YS1xYDRtLXSovLxwNBlhaS1wsPhwBDQsdHQEcS1wsHAsYS1wsXEtcLEtcW1xWDw8cDQZYWktcW1xXS1xYHQFLXSoeARwaHA8HGktcWAIJS10qS1xYDRxLXSpLXFgdCktdKg0GBwAPAxsdBw1LXFgcGh5LXSoKHA8IGktcWAUZCktdKktcWytYS1xbV1ZLXFtWWEtcWytYS1xbVyxLXFssXEtcWAwcAEtdKl5LXFgcDRpLXSpfXg%3D%3D'
        result = r.get(self.url)
        rejson = json.loads(result.text)
        assert rejson['msg']== 'Success'
        assert result.status_code ==200


    @allure.step("搜索结果页-专辑")
    def test_find2(self):
        self.url = 'http://master1.china-plus.net/api/ServiceCenter.do?action=superSearch&format=json&verf=6A829FDE74A7059943E9713FF4523830&pv=3&data=HQdLXSpWXlZfS1xYGAdLXSpZXl5YS1xYDQdLXSpYXl5fS1xYCh1LXSpbX15WS1xYGABLXSpfQFtAXkBZW1ZLXFgYDUtdKllbVktcWBsHS10qS1xYGx5LXSpLXFgbAEtdKktcW1ssLSNLXFtbKl1aVl1WWlxeX1lLXFtaXh8fQA0BA0tcWBoDS10qIT4%2BITxfXx1LXFgDC0tdKlwKV1lbWV9cDFxfDVlXV1tLXFgDXEtdKlZYWVpYXV5dWFpdXFdXWUtcWB4AS10qS1xYAx1LXSpLXFgaGEtdKlxbS1xYABpLXSoZBwgHS1xYAg1LXSpLXFgNC0tdKktcWAIAS10qS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtXLEtcW1csS1xbK1tLXFssWUtcW1cqS1xbK1lLXFtXLUtcW1ZfS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xbK1hLXFsvKktcWy9YS1xbK1pLXFssK0tcWy8oS1xbK1tLXFtWLUtcWywvS1xbK1tLXFtWV0tcW1dfS1xbK1tLXFtWKktcW1dZS1xbK1tLXFsvWktcWy9ZS1xbK1dLXFtWX0tcW1ddS1xbK1tLXFtWLUtcW1dZS1xbK1hLXFsvK0tcWyxbS1xbK1ZLXFssK0tcW1ZbS1xbK1ZLXFssWUtcWy8oS1xYAg9LXSpdXkBbVllYVltLXFgCAUtdKl9eWkBeW11fX1dLXFgeHEtdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWA0aS10qS1xbK1hLXFtWVktcW1deS1xbK1dLXFtWXUtcWywqS1xbK1tLXFssVktcW1ZcS1xYDQFLXSpLXFsrWEtcWy8qS1xbL1hLXFsrWktcWywrS1xbLyhLXFsrW0tcW1YtS1xbLC9LXFgdGktdKktcWytbS1xbVyxLXFtXLEtcWytbS1xbLFlLXFtXKktcWytZS1xbVy1LXFtWX0tcWytYS1xbVlZLXFtXXktcWytXS1xbVl1LXFssKktcWytbS1xbLFZLXFtWXEtcWytYS1xbLypLXFsvWEtcWytaS1xbLCtLXFsvKEtcWytbS1xbVi1LXFssL0tcWytbS1xbVldLXFtXX0tcWytbS1xbVipLXFtXWUtcWytbS1xbL1pLXFsvWUtcWytXS1xbVl9LXFtXXUtcWytbS1xbVi1LXFtXWUtcWytYS1xbLytLXFssW0tcWytWS1xbLCtLXFtWW0tcWytWS1xbLFlLXFsvKEtcWAEYS10qDwAKHAEHCllAX0BfS1xYGgxLXSohPj4hS1xYHRlLXSpfXlZeS1xYHQZLXSpcXl9YS1xYDRtLXSovLxwNBlhaS1wsPhwBDQsdHQEcS1wsHAsYS1wsXEtcLEtcW1xWDw8cDQZYWktcW1xXS1xYHQFLXSoeARwaHA8HGktcWAIJS10qS1xYDRxLXSpLXFgdCktdKg0GBwAPAxsdBw1LXFgcGh5LXSoKHA8IGi8CDBsDS1xYBRkKS10qS1xbK1tLXFtWKEtcWy9aS1xbK1lLXFsvKktcW1cqS1xYDBwAS10qXktcWBwNGktdKl9e'
        result = r.get(self.url)
        rejson = json.loads(result.text)
        assert rejson['msg']== 'Success'
        assert result.status_code ==200




if __name__ == "__main__":
    pytest.main()